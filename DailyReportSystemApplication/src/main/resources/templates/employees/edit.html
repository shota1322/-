<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head th:replace="common/header :: head_fragment(title='従業員更新')"></head>

<body>
	<div class="d-flex" style="min-height:100vh;">

		<!-- サイドバー -->
		<aside class="bg-dark text-white p-3" style="width:220px; min-height:100vh;">
			<nav th:replace="common/side :: copy"></nav>
		</aside>

		<!-- メイン -->
		<main class="flex-grow-1" style="padding:18px 22px;">
			<h1 class="h3 mb-3 fw-bold">従業員 更新</h1>

			<div class="border rounded" style="max-width:1050px; padding:14px;">
				<div class="alert alert-secondary mb-4">
					パスワードは変更する場合のみ入力してください
				</div>

				<form th:action="@{/employees/{code}/update(code=*{code})}" th:object="${employee}" method="post">

					<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

					<div class="mb-3">
						<label class="form-label">社員番号</label>
						<div class="form-control-plaintext" th:text="*{code}"></div>
					</div>

					<div class="mb-3">
						<label class="form-label">氏名</label>
						<input class="form-control" type="text" th:field="*{name}">
						<div class="text-danger small" th:errors="*{name}"></div>
					</div>

					<div class="mb-3">
						<label class="form-label">パスワード</label>
						<input class="form-control" type="password" th:field="*{password}">
						<div class="text-danger small" th:errors="*{password}"></div>
					</div>

					<div class="mb-4">
						<label class="form-label">権限</label>
						<select class="form-select col-md-4" th:field="*{role}">
							<option th:each="item : ${T(com.techacademy.entity.Employee.Role).values()}"
								th:value="${item}" th:text="${item}">
							</option>

						</select>
						<div class="text-danger small" th:errors="*{role}"></div>
					</div>

					<div class="d-flex gap-2">
						<button class="btn btn-primary" type="submit">更新</button>
						<a th:href="@{/employees/{code}(code=*{code})}" class="btn btn-primary">戻る</a>
					</div>

				</form>
			</div>
		</main>
	</div>
</body>

</html>