<!DOCTYPE html>
<html class="h-100" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:replace="common/header :: head_fragment(title=従業員詳細)"></head>

<body class="h-100 overflow-hidden">
<div class="row h-100 g-0">

    <!-- サイドバー（更新画面と同じ・下まで伸ばす） -->
    <div class="bg-dark text-white col-sm-2 p-3 min-vh-100">
        <nav th:replace="common/side :: copy"></nav>
    </div>

    <!-- メイン -->
    <div class="mt-3 h-100 col-sm-10">
        <div class="container-fluid p-0">
            <h1 class="h3 mb-3" th:text="|code:${employee.code}の従業員情報詳細|">code: の従業員情報詳細</h1>
        </div>

        <div class="col-12 col-xxl-8">
            <div class="card">
                <div class="card-body">

                    <table class="table">
                        <tbody>
                        <tr class="table-light">
                            <th style="width: 180px;">社員番号</th>
                            <td th:text="${employee.code}"></td>
                        </tr>
                        <tr>
                            <th>氏名</th>
                            <td th:text="${employee.name}"></td>
                        </tr>
                        <tr class="table-light">
                            <th>権限</th>
                            <!-- RoleにgetValue()があればこちら、無ければ employee.role だけにしてください -->
                            <td th:text="${employee.role}"></td>
                        </tr>
                        <tr>
                            <th>登録日時</th>
                            <td th:text="${#temporals.format(employee.createdAt, 'yyyy-MM-dd hh:mm:ss')}"></td>
                        </tr>
                        <tr class="table-light">
                            <th>更新日時</th>
                            <td th:text="${#temporals.format(employee.updatedAt, 'yyyy-MM-dd hh:mm:ss')}"></td>
                        </tr>
                        </tbody>
                    </table>

                    <!-- ボタン（青で統一） -->
                    <div class="mt-4 d-flex gap-2">
                        <a class="btn btn-primary"
                           th:href="@{/employees/{code}/edit(code=${employee.code})}">
                            更新
                        </a>

                        <form th:action="@{/employees/{code}/delete(code=${employee.code})}"
                              method="post"
                              th:onsubmit="return confirmDelete();">
                            <button type="submit" class="btn btn-primary">削除</button>
                        </form>

                        <a class="btn btn-primary" th:href="@{/employees}">戻る</a>
                    </div>

                </div>
            </div>
        </div>

    </div>
</div>

<script>
    function confirmDelete() {
        return confirm('削除してよろしいですか？');
    }
</script>

</body>
</html>
